FROM mcr.microsoft.com/playwright:v1.50.1-jammy

WORKDIR /work

ENV HTTP_PROXY=""
ENV HTTPS_PROXY=""
ENV http_proxy=""
ENV https_proxy=""
ENV NO_PROXY="app,localhost,127.0.0.1"

# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π package.json
COPY package.json package-lock.json ./
RUN npm ci

# üî• –ö–æ–ø–∏—Ä—É–µ–º config –≤ –ö–û–†–ï–ù–¨ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
COPY app/playwright.config.ts ./playwright.config.ts
COPY app/tsconfig.playwright.json ./tsconfig.playwright.json

# –ö–æ–ø–∏—Ä—É–µ–º e2e —Ç–µ—Å—Ç—ã
COPY app/e2e ./e2e

RUN npx playwright install --with-deps

CMD ["npx", "playwright", "test"]







